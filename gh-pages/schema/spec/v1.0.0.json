{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://promptrek.com/schema/spec/v1.0.0.json",
  "title": "Universal Spec Format (USF)",
  "description": "Schema for PrompTrek spec documents - individual specification files that capture project requirements, designs, and decisions.",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the spec",
      "pattern": "^[a-zA-Z0-9-_]+$"
    },
    "title": {
      "type": "string",
      "description": "Human-readable title for the spec",
      "minLength": 1
    },
    "created": {
      "type": "string",
      "description": "ISO 8601 timestamp of creation",
      "format": "date-time"
    },
    "updated": {
      "type": "string",
      "description": "ISO 8601 timestamp of last update",
      "format": "date-time"
    },
    "source_command": {
      "type": "string",
      "description": "Command that created this spec (e.g., 'spec', 'sync')",
      "minLength": 1
    },
    "summary": {
      "type": "string",
      "description": "Brief summary of spec content"
    },
    "tags": {
      "type": "array",
      "description": "Tags for categorization (e.g., ['api', 'auth', 'security'])",
      "items": {
        "type": "string"
      }
    },
    "linked_specs": {
      "type": "array",
      "description": "IDs of related/linked specs for traceability",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9-_]+$"
      }
    },
    "content": {
      "type": "string",
      "description": "Markdown content of the spec",
      "minLength": 1
    }
  },
  "required": [
    "id",
    "title",
    "created",
    "source_command",
    "content"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "id": "user-auth-api",
      "title": "User Authentication API Specification",
      "created": "2025-01-09T12:00:00Z",
      "updated": "2025-01-10T15:30:00Z",
      "source_command": "spec",
      "summary": "Defines the authentication endpoints and security requirements",
      "tags": ["api", "auth", "security", "oauth"],
      "linked_specs": ["api-design-principles", "security-requirements"],
      "content": "# User Authentication API\n\n## Overview\n\nThis spec defines..."
    }
  ]
}
